<div class="container">
  <!-- æ¨™é¡Œå€ -->
  <header class="header">
    <div class="header-content">
      <h1 class="title">
        <span class="title-year">2025R4</span>
        <span class="title-dept">ç”¢å“äºŒéƒ¨</span>
        <span class="title-event">Team Building</span>
      </h1>
      <p class="subtitle">å‘½é‹è¼ªç›¤ Â· èˆ‡ä½ ç›¸é‡</p>
    </div>
    <div class="decoration"></div>
  </header>

  <!-- ä¸»è¦å…§å®¹å€ -->
  <main class="main-content">
    <!-- è¼¸å…¥èˆ‡æŠ½é¡Œå€ -->
    <section class="draw-section">
      <div class="input-card">
        <div class="card-body">
          <div class="input-group">
            <input
              id="userName"
              type="text"
              [(ngModel)]="inputName"
              placeholder="è¼¸å…¥ä½ çš„è‹±æ–‡åå­—"
              class="input-field"
              [class.invalid]="inputName.trim() && !isNameValid()"
              [disabled]="countdown > 0"
            />
            <div class="input-hint" *ngIf="inputName.trim() && !isNameValid()">
              å“å‘€!é€™å€‹åå­—ä¸åœ¨åƒåŠ åå–®ä¸­å–”
            </div>
          </div>

          <button
            class="btn-draw"
            (click)="drawQuestion()"
            [disabled]="!isNameValid() || isDrawing || countdown > 0"
          >
            <span class="btn-icon">ğŸ²</span>
            <span class="btn-text">
              {{
                countdown > 0
                  ? "ç­‰å¾…é‡ç½®ä¸­..."
                  : isDrawing
                  ? "æŠ½ç‰Œä¸­..."
                  : "æŠ½ç‰Œå›‰!"
              }}
            </span>
          </button>
        </div>
      </div>

      <!-- é¡Œç›®å¡ç‰‡ -->
      <div
        class="question-card"
        [class.flipping]="isFlipping"
        [class.show]="showQuestion"
      >
        <div class="card-inner">
          <div class="card-front">
            <div class="card-icon">â“</div>
          </div>
          <div class="card-back">
            <div class="question-content">
              <h3 *ngIf="drawnName">{{ drawnName }} æŠ½åˆ°çš„æ˜¯</h3>
              <p class="question-text">{{ drawnQuestion }}</p>
              <div class="countdown-timer" *ngIf="countdown > 0">
                <span class="countdown-number">{{ countdown }}</span>
                <span class="countdown-text">ç§’å¾Œå³å°‡é‡æ–°å•Ÿå‹•</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- è¨˜éŒ„åˆ—è¡¨ -->
    <section class="records-section">
      <div class="records-card">
        <div class="records-header">
          <h2>æŠ½é¡Œè¨˜éŒ„</h2>
          <span class="record-count">{{ records.length }} ç­†</span>
        </div>
        <div class="records-body">
          <div class="records-list" *ngIf="records.length > 0; else noRecords">
            <div
              class="record-item"
              *ngFor="let record of records.slice().reverse(); let i = index"
              [style.animation-delay]="i * 0.05 + 's'"
            >
              <div class="record-avatar">
                {{ record.name.charAt(0) }}
              </div>
              <div class="record-content">
                <div class="record-header-info">
                  <span class="record-name">{{ record.name }}</span>
                  <span class="record-time">{{
                    record.timestamp | date : "HH:mm"
                  }}</span>
                </div>
                <p class="record-question">{{ record.question }}</p>
              </div>
            </div>
          </div>
          <ng-template #noRecords>
            <div class="no-records">
              <p>è¶•ç·Šä¾†ç©å§!</p>
            </div>
          </ng-template>
        </div>
      </div>
    </section>
  </main>

  <!-- èƒŒæ™¯è£é£¾ -->
  <div class="bg-decoration">
    <div class="circle circle-1"></div>
    <div class="circle circle-2"></div>
    <div class="circle circle-3"></div>
  </div>
</div>
